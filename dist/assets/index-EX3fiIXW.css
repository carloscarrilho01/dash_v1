.sidebar{width:400px;background:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;height:100vh}.sidebar-header{background:var(--bg-tertiary);padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow)}.sidebar-header h2{font-size:20px;font-weight:600;color:var(--text-primary);letter-spacing:-.3px}.sidebar-header-actions{display:flex;gap:8px}.icon-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:10px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.icon-button:hover{background:var(--bg-hover);color:var(--accent-primary);transform:scale(1.05)}.icon-button:active{transform:scale(.95)}.sidebar-search{padding:12px;background:var(--bg-secondary)}.search-box{background:var(--bg-tertiary);border-radius:10px;padding:10px 16px;display:flex;align-items:center;gap:12px;border:1px solid transparent;transition:all .2s ease}.search-box:focus-within{border-color:var(--accent-primary);box-shadow:0 0 0 3px #00a8841a}.search-icon{color:var(--text-secondary);flex-shrink:0;transition:color .2s}.search-box:focus-within .search-icon{color:var(--accent-primary)}.search-box input{background:transparent;border:none;color:var(--text-primary);font-size:15px;width:100%;outline:none}.search-box input::placeholder{color:var(--text-muted)}.conversations-list{flex:1;overflow-y:auto;background:var(--bg-secondary)}.loading,.empty-state{padding:60px 20px;text-align:center;color:var(--text-muted)}.empty-state p{font-size:16px;margin-bottom:8px;color:var(--text-secondary);font-weight:500}.empty-state small{font-size:13px;color:var(--text-muted)}.conversation-item{display:flex;padding:14px 16px;cursor:pointer;border-bottom:1px solid var(--bg-tertiary);transition:all .2s ease;gap:12px;position:relative}.conversation-item:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:var(--accent-primary);transform:scaleY(0);transition:transform .2s ease}.conversation-item:hover{background:var(--bg-tertiary)}.conversation-item.active{background:var(--bg-hover)}.conversation-item.active:before{transform:scaleY(1)}.conversation-avatar{flex-shrink:0;width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#3a3a3a,#505050);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:500;box-shadow:0 2px 8px #0006}.conversation-info{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center;gap:5px}.conversation-header{display:flex;justify-content:space-between;align-items:center;gap:8px}.conversation-name{font-size:16px;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.conversation-time{font-size:12px;color:var(--text-muted);flex-shrink:0;font-weight:500}.conversation-item.active .conversation-time{color:var(--accent-primary)}.conversation-preview{display:flex;justify-content:space-between;align-items:center;gap:8px}.last-message{font-size:14px;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.unread-badge{background:var(--text-primary);color:var(--bg-primary);font-size:11px;font-weight:700;padding:3px 8px;border-radius:12px;min-width:22px;text-align:center;flex-shrink:0;box-shadow:0 2px 8px #fff3;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.8}}.btn-record-audio{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.btn-record-audio:hover{background:#ffffff0d;color:var(--accent-primary)}.audio-recording{display:flex;align-items:center;gap:12px;padding:8px 12px;background:var(--bg-hover);border-radius:24px}.recording-indicator{display:flex;align-items:center;gap:8px}.pulse-dot{width:12px;height:12px;background:#f44;border-radius:50%;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}.recording-time{color:var(--text-primary);font-size:14px;font-weight:500;min-width:40px}.btn-stop-recording,.btn-cancel-recording{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-stop-recording{color:var(--accent-primary)}.btn-stop-recording:hover{background:#e0e0e01a}.btn-cancel-recording:hover{background:#ffffff0d}.audio-preview{display:flex;align-items:center;gap:12px;padding:8px 12px;background:var(--bg-hover);border-radius:24px;flex:1}.audio-player{flex:1;height:32px;max-width:300px}.audio-player::-webkit-media-controls-panel{background:var(--bg-hover)}.audio-duration{color:var(--text-secondary);font-size:12px}.audio-preview-actions{display:flex;gap:8px}.btn-cancel,.btn-send-audio{background:transparent;border:none;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-cancel{color:var(--text-primary)}.btn-cancel:hover{background:#ffffff0d}.btn-send-audio{color:var(--accent-primary)}.btn-send-audio:hover{background:#e0e0e01a}.message-audio{display:flex;align-items:center;gap:10px;min-width:280px;max-width:100%;padding:4px}.audio-message-player{display:none}.custom-audio-player{display:flex;align-items:center;gap:10px;width:100%}.audio-play-btn{width:36px;height:36px;min-width:36px;border-radius:50%;background:var(--accent-primary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--bg-primary)}.audio-play-btn:hover{background:var(--accent-hover);transform:scale(1.05)}.audio-play-btn:active{transform:scale(.95)}.audio-play-btn svg{width:16px;height:16px}.audio-info{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.audio-progress-container{width:100%;height:4px;background:#ffffff26;border-radius:2px;cursor:pointer;position:relative;overflow:hidden}.audio-progress-bar{height:100%;background:var(--accent-primary);border-radius:2px;transition:width .1s linear;position:relative}.audio-progress-bar:after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:8px;height:8px;background:var(--accent-primary);border-radius:50%;opacity:0;transition:opacity .2s}.audio-progress-container:hover .audio-progress-bar:after{opacity:1}.audio-time-info{display:flex;align-items:center;justify-content:space-between;font-size:11px;color:var(--text-secondary);font-family:Courier New,monospace}.audio-current-time,.audio-total-duration{font-weight:500}.audio-waveform{display:flex;align-items:center;gap:2px;height:20px;flex:1}.audio-waveform-bar{flex:1;background:#ffffff4d;border-radius:2px;min-width:2px;transition:all .2s}.audio-waveform-bar.active{background:var(--accent-primary)}.audio-mic-icon{width:18px;height:18px;color:var(--text-secondary);opacity:.7}.message.user .audio-play-btn{background:#fff3;color:var(--text-primary)}.message.user .audio-play-btn:hover{background:#ffffff4d}.message.bot .audio-play-btn,.message.agent .audio-play-btn{background:var(--accent-primary);color:var(--bg-primary)}.message.bot .audio-play-btn:hover,.message.agent .audio-play-btn:hover{background:var(--accent-hover)}@keyframes audioLoading{0%,to{opacity:.3}50%{opacity:1}}.audio-loading .audio-play-btn{animation:audioLoading 1.5s ease-in-out infinite}@keyframes waveformPulse{0%,to{height:40%}50%{height:100%}}.audio-playing .audio-waveform-bar{animation:waveformPulse .8s ease-in-out infinite}.audio-playing .audio-waveform-bar:nth-child(2){animation-delay:.1s}.audio-playing .audio-waveform-bar:nth-child(3){animation-delay:.2s}.audio-playing .audio-waveform-bar:nth-child(4){animation-delay:.3s}.audio-playing .audio-waveform-bar:nth-child(5){animation-delay:.4s}.btn-attach-file{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.btn-attach-file:hover{background:#ffffff0d;color:var(--accent-primary)}.file-preview-container{position:absolute;bottom:100%;left:0;right:0;background:var(--bg-tertiary);border-top:1px solid var(--border-color);padding:16px;display:flex;align-items:center;gap:16px;z-index:10}.file-preview{flex:1;display:flex;align-items:center;gap:12px}.image-preview{max-width:200px;max-height:200px;border-radius:8px;object-fit:cover}.file-icon-preview{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-hover);border-radius:8px}.file-icon-preview svg{color:var(--text-secondary);flex-shrink:0}.file-info{display:flex;flex-direction:column;gap:4px}.file-name{color:var(--text-primary);font-size:14px;font-weight:500;word-break:break-word}.file-size{color:var(--text-secondary);font-size:12px}.file-actions{display:flex;gap:8px}.btn-cancel-file,.btn-send-file{background:transparent;border:none;cursor:pointer;padding:12px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-cancel-file{color:var(--text-primary)}.btn-cancel-file:hover{background:#ffffff0d}.btn-send-file{color:var(--accent-primary)}.btn-send-file:hover{background:#e0e0e01a}.message-file{display:flex;flex-direction:column;gap:8px;min-width:250px;max-width:300px}.message-file-image{width:100%;border-radius:8px;cursor:pointer;transition:opacity .2s}.message-file-image:hover{opacity:.9}.message-file-document{display:flex;align-items:center;gap:12px;padding:12px;background:#0000001a;border-radius:8px;cursor:pointer;transition:background .2s}.message-file-document:hover{background:#0003}.message-file-document svg{color:var(--text-primary);flex-shrink:0}.message-file-info{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.message-file-name{color:var(--text-primary);font-size:14px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message-file-size{color:var(--text-secondary);font-size:12px}.message-file-download{color:var(--accent-primary);flex-shrink:0}.quick-messages-bar{background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);padding:8px 12px;max-height:120px;overflow-y:auto}.quick-messages-bar.loading,.quick-messages-bar.empty{text-align:center;padding:12px;color:var(--text-muted);font-size:13px}.quick-messages-list{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.quick-message-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:16px;font-size:13px;color:var(--text-primary);cursor:pointer;transition:all .2s ease;white-space:nowrap;max-width:200px}.quick-message-btn:hover{background:var(--accent-primary);color:var(--bg-primary);border-color:var(--accent-primary);transform:translateY(-1px);box-shadow:0 2px 4px #e0e0e04d}.quick-message-emoji{font-size:16px;line-height:1}.quick-message-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.quick-message-toggle-btn{width:32px;height:32px;padding:0;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:50%;font-size:18px;font-weight:700;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.quick-message-toggle-btn:hover{background:var(--bg-tertiary);border-color:var(--text-muted)}.quick-message-manage-btn{padding:6px 12px;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:16px;font-size:13px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;white-space:nowrap}.quick-message-manage-btn:hover{background:var(--bg-tertiary);border-color:var(--text-muted);color:var(--text-primary)}.quick-messages-bar::-webkit-scrollbar{height:6px}.quick-messages-bar::-webkit-scrollbar-track{background:transparent;border-radius:3px}.quick-messages-bar::-webkit-scrollbar-thumb{background:var(--bg-hover);border-radius:3px}.quick-messages-bar::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.quick-messages-manager-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.quick-messages-manager{background:var(--bg-secondary);border-radius:12px;max-width:1000px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 10px 40px var(--shadow)}.manager-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-color)}.manager-header h2{margin:0;font-size:20px;color:var(--text-primary)}.close-btn{background:none;border:none;font-size:32px;color:var(--text-secondary);cursor:pointer;line-height:1;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.close-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.manager-content{flex:1;overflow-y:auto;padding:24px;display:grid;grid-template-columns:1fr 1fr;gap:24px}.manager-form-section,.manager-list-section{display:flex;flex-direction:column}.manager-form-section h3,.manager-list-section h3{margin:0 0 16px;font-size:16px;color:var(--text-secondary);font-weight:600}.form-group{margin-bottom:16px}.form-group label{display:block;margin-bottom:6px;font-size:13px;font-weight:500;color:var(--text-secondary)}.form-group input,.form-group textarea,.form-group select{width:100%;padding:10px;border:1px solid var(--border-color);border-radius:6px;font-size:14px;font-family:inherit;transition:border-color .2s;background:var(--bg-tertiary);color:var(--text-primary)}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--accent-primary)}.form-group textarea{resize:vertical;min-height:80px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.emoji-selector{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.emoji-clear-btn,.emoji-option{width:36px;height:36px;border:1px solid var(--border-color);background:var(--bg-tertiary);border-radius:6px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all .2s}.emoji-clear-btn{width:auto;padding:0 10px;font-size:12px;color:var(--text-secondary)}.emoji-option:hover,.emoji-clear-btn:hover{border-color:var(--accent-primary);background:var(--bg-hover)}.emoji-option.selected{border-color:var(--accent-primary);background:var(--accent-primary);transform:scale(1.1)}.form-actions{display:flex;gap:10px;margin-top:20px}.save-btn,.cancel-btn{flex:1;padding:12px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.save-btn{background:var(--accent-primary);color:var(--bg-primary)}.save-btn:hover{background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 4px 8px #e0e0e04d}.cancel-btn{background:var(--bg-hover);color:var(--text-secondary)}.cancel-btn:hover{background:var(--bg-tertiary);color:var(--text-primary)}.quick-messages-grid{display:flex;flex-direction:column;gap:12px;overflow-y:auto;max-height:500px;padding-right:8px}.quick-message-item{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;padding:12px;transition:all .2s}.quick-message-item.disabled{opacity:.5}.quick-message-item:hover{border-color:var(--text-muted);box-shadow:0 2px 4px var(--shadow)}.qm-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.qm-emoji{font-size:18px}.qm-category{font-size:11px;background:var(--bg-hover);color:var(--text-secondary);padding:2px 8px;border-radius:10px;text-transform:uppercase;font-weight:600}.qm-toggle{margin-left:auto;position:relative;display:inline-block;width:44px;height:24px}.qm-toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--text-muted);transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:var(--bg-primary);transition:.3s;border-radius:50%}.qm-toggle input:checked+.toggle-slider{background-color:var(--accent-primary)}.qm-toggle input:checked+.toggle-slider:before{transform:translate(20px)}.qm-text{margin:0 0 8px;font-size:14px;color:var(--text-primary);line-height:1.4}.qm-shortcut{display:inline-block;font-size:11px;background:var(--warning);color:var(--bg-primary);padding:2px 6px;border-radius:4px;font-family:Courier New,monospace;margin-bottom:8px}.qm-actions{display:flex;gap:8px;margin-top:10px}.edit-btn,.delete-btn{flex:1;padding:6px;border:none;border-radius:4px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}.edit-btn{background:var(--bg-hover);border:1px solid var(--border-color);color:var(--text-secondary)}.edit-btn:hover{background:var(--accent-primary);border-color:var(--accent-primary);color:var(--bg-primary)}.delete-btn{background:var(--bg-hover);border:1px solid var(--border-color);color:var(--error)}.delete-btn:hover{background:var(--error);border-color:var(--error);color:#fff}.loading-text,.empty-text{text-align:center;color:var(--text-muted);font-size:14px;padding:20px}.quick-messages-grid::-webkit-scrollbar{width:6px}.quick-messages-grid::-webkit-scrollbar-track{background:transparent;border-radius:3px}.quick-messages-grid::-webkit-scrollbar-thumb{background:var(--bg-hover);border-radius:3px}.quick-messages-grid::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}@media (max-width: 768px){.manager-content,.form-row{grid-template-columns:1fr}}.chat-window{flex:1;display:flex;flex-direction:column;background:var(--bg-primary);position:relative}.chat-window:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIj48cGF0aCBkPSJNMjAgMjBtLTEgMGEgMSAxIDAgMSAwIDIgMGEgMSAxIDAgMSAwIC0yIDAiIGZpbGw9IiMxNzI0MmEiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4pIi8+PC9zdmc+);opacity:.3;pointer-events:none}.chat-empty{flex:1;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.chat-empty-content{text-align:center;color:var(--text-muted)}.empty-icon{margin-bottom:24px;opacity:.3}.chat-empty-content h2{font-size:32px;font-weight:300;color:var(--text-primary);margin-bottom:16px}.chat-empty-content p{font-size:14px;color:var(--text-secondary)}.chat-header{background:var(--bg-tertiary);padding:10px 16px;border-bottom:1px solid var(--bg-hover);display:flex;justify-content:space-between;align-items:center;z-index:2}.chat-header-info{display:flex;align-items:center;gap:12px}.chat-avatar{width:40px;height:40px;border-radius:50%;background:var(--text-muted);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.chat-header-info h3{font-size:16px;font-weight:400;color:var(--text-primary);margin:0}.user-id{font-size:13px;color:var(--text-muted)}.chat-messages{flex:1;overflow-y:auto;padding:20px 10%;position:relative;z-index:1}.messages-container{display:flex;flex-direction:column;gap:8px}.message{display:flex;width:100%}.message.user{justify-content:flex-start}.message.bot,.message.agent{justify-content:flex-end}.message-bubble{max-width:65%;padding:8px 12px;border-radius:8px;position:relative;word-wrap:break-word}.message.user .message-bubble{background:var(--bg-tertiary);border-bottom-left-radius:2px}.message.bot .message-bubble{background:var(--msg-out-bg);border-bottom-right-radius:2px}.message.agent .message-bubble{background:var(--msg-agent-bg);border-bottom-right-radius:2px}.message-text{color:var(--text-primary);font-size:14px;line-height:1.5;margin-bottom:4px}.message-time{display:flex;align-items:center;justify-content:flex-end;gap:4px;font-size:11px;color:#e9edef99}.message-check{color:var(--accent-primary)}.chat-input{position:relative;background:var(--bg-tertiary);padding:10px 16px;border-top:1px solid var(--bg-hover);z-index:2}.input-container{display:flex;align-items:center;gap:8px;background:var(--bg-hover);border-radius:8px;padding:8px 12px}.message-input{flex:1;background:transparent;border:none;color:var(--text-primary);font-size:15px;outline:none;padding:8px}.message-input::placeholder{color:var(--text-muted)}.send-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.send-button:hover:not(:disabled){background:#ffffff0d}.send-button:disabled{opacity:.5;cursor:not-allowed}.send-button:not(:disabled){color:var(--accent-primary)}.app{display:flex;height:100vh;background:var(--bg-primary)}*{margin:0;padding:0;box-sizing:border-box}:root{--bg-primary: #0a0a0a;--bg-secondary: #141414;--bg-tertiary: #1e1e1e;--bg-hover: #2a2a2a;--accent-primary: #e0e0e0;--accent-hover: #ffffff;--accent-active: #b0b0b0;--text-primary: #ffffff;--text-secondary: #a0a0a0;--text-muted: #6a6a6a;--msg-in-bg: #1e1e1e;--msg-out-bg: #2a2a2a;--msg-agent-bg: #252525;--border-color: #2a2a2a;--shadow: rgba(0, 0, 0, .5);--success: #4ade80;--error: #ef4444;--warning: #f59e0b}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--bg-primary);color:var(--text-primary)}#root{width:100vw;height:100vh;overflow:hidden}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--bg-hover);border-radius:3px;transition:background .2s}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}
